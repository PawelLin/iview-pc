(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6b4316ea"],{"0e98":function(e,t,r){"use strict";r.d(t,"c",(function(){return n})),r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return s}));r("28a5");var o=r("2b0e"),a=r("7f80");function n(e){return a["a"].post("/common/org",{pOrgCode:e})}function i(e,t){return a["a"].post(e,t,{responseType:"blob"}).then((function(e){var t=new FileReader;t.onload=function(){try{var r=JSON.parse(t.result);o["default"].prototype.$Loading.error(),o["default"].prototype.$Message.error(r.message)}catch(s){var a=new Blob([e.data]),n=decodeURIComponent(e.headers["content-disposition"].split(";")[1].split("filename=")[1]);if("download"in document.createElement("a")){var i=document.createElement("a");i.download=n,i.style.display="none",i.href=URL.createObjectURL(a),document.body.appendChild(i),i.click(),URL.revokeObjectURL(i.href),document.body.removeChild(i)}else navigator.msSaveBlob(a,n)}},t.readAsText(e.data)}))}function s(e,t){var r=document.createElement("form");for(var o in r.method="post",r.action="".concat("https://www.fastmock.site/mock/b37fef5292e8da430572f4f20875cc89/mock").concat(e),t){var a=document.createElement("input");a.type="hidden",a.value=t[o],a.name=o,r.appendChild(a)}document.body.appendChild(r),r.submit(),r.remove()}},"5df3":function(e,t,r){"use strict";var o=r("02f4")(!0);r("01f9")(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=o(t,r),this._i+=e.length,{value:e,done:!1})}))},b300:function(e,t,r){"use strict";var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("Card",{attrs:{shadow:""}},[r("span",{attrs:{slot:"title"},slot:"title"},[e._v("用户信息")]),r("Form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":80}},[r("Row",[r("Col",{attrs:{span:"8"}},[r("FormItem",{attrs:{prop:"loginName",label:"登录名"}},[r("Input",{model:{value:e.form.loginName,callback:function(t){e.$set(e.form,"loginName",t)},expression:"form.loginName"}})],1)],1),r("Col",{attrs:{span:"8"}},[r("FormItem",{attrs:{prop:"realName",label:"用户名"}},[r("Input",{model:{value:e.form.realName,callback:function(t){e.$set(e.form,"realName",t)},expression:"form.realName"}})],1)],1)],1),r("Row",[r("Col",{attrs:{span:"8"}},[r("FormItem",{attrs:{prop:"roleId",label:"角色"}},[r("Select",{attrs:{filterable:""},model:{value:e.form.roleId,callback:function(t){e.$set(e.form,"roleId",t)},expression:"form.roleId"}},e._l(e.roleList,(function(t){return r("Option",{key:t.id,attrs:{value:t.id}},[e._v(e._s(t.name))])})),1)],1)],1),r("Col",{attrs:{span:"8"}},[r("FormItem",{attrs:{prop:"orgCode",label:"所属机构"}},[r("Select",{attrs:{filterable:""},model:{value:e.form.orgCode,callback:function(t){e.$set(e.form,"orgCode",t)},expression:"form.orgCode"}},e._l(e.orgList,(function(t){return r("Option",{key:t.orgCode,attrs:{value:t.orgCode}},[e._v(e._s(t.orgName))])})),1)],1)],1)],1),r("Row",[r("Col",{attrs:{span:"8"}},[r("FormItem",{attrs:{prop:"mobile",label:"手机号"}},[r("Input",{model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile",t)},expression:"form.mobile"}})],1)],1),r("Col",{attrs:{span:"8"}},[r("FormItem",{attrs:{prop:"status",label:"状态"}},[r("Select",{attrs:{disabled:!e.form.id},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[r("Option",{attrs:{value:"0"}},[e._v("启用")]),r("Option",{attrs:{value:"1"}},[e._v("禁用")])],1)],1)],1)],1),r("Row",{staticClass:"flex-middle"},[r("Col",{attrs:{span:"8"}},[r("FormItem",{attrs:{label:"备注"}},[r("Input",{attrs:{type:"textarea"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1)],1),r("Col",{attrs:{span:"8"}},[r("FormItem",[r("Button",{attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v("提交")]),r("RemoveTag",{ref:"removeTag"})],1)],1)],1)],1)],1)},a=[],n=(r("8e6e"),r("456d"),r("bd86")),i=(r("ac6a"),r("5df3"),r("0e98"));function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(r,!0).forEach((function(t){Object(n["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var c={name:"auth_user_detail",data:function(){return{form:{id:"",loginName:"",realName:"",roleId:"",orgCode:"",mobile:"",status:"0",description:""},roleList:[],orgList:[],rules:{loginName:{required:!0},realName:{required:!0},roleId:{required:!0},orgCode:{required:!0},mobile:{required:!0},status:{required:!0}}}},activated:function(){var e=this;this.form.id&&this.$route.query.id!==this.form.id&&this.getDetail(this.form.id).then((function(t){e.form=Object.assign(e.form,t.data.data)})).catch((function(){}))},created:function(){this.init(this.$route.query.id)},methods:{init:function(e){var t=this,r=[Object(i["c"])(),this.getRole()];e&&r.push(this.getDetail(e)),Promise.all(r).then((function(r){t.orgList=r[0].data.data,t.roleList=r[1].data.data,e&&(t.form=Object.assign(t.form,r[2].data.data))})).catch((function(){})).finally((function(){t.form.id=e||""}))},getRole:function(){return this.$http.post("/system/role/list")},getDetail:function(e){return this.$http.post("/system/user/info",{id:e})},handleSubmit:function(){var e=this;this.$refs.form.validate((function(t){if(t){var r=e.form.id?"/system/user/update":"/system/user/add";e.$http.post(r,l({},e.form,{id:e.form.id||void 0})).then((function(t){e.$Message.success("提交成功"),e.$refs.removeTag.handleRemove("auth_user")})).catch((function(){}))}}))}}},u=c,d=r("2877"),m=Object(d["a"])(u,o,a,!1,null,null,null);t["a"]=m.exports},fb62:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("User")},a=[],n=r("b300"),i={name:"auth_user_add",components:{User:n["a"]}},s=i,l=r("2877"),c=Object(l["a"])(s,o,a,!1,null,null,null);t["default"]=c.exports}}]);
//# sourceMappingURL=chunk-6b4316ea.7778457d.js.map