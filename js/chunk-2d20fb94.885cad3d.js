(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d20fb94"],{b59d:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("Card",{attrs:{shadow:""}},[a("Form",{attrs:{"label-width":60,"label-position":"left"}},[a("Row",{attrs:{gutter:20}},[a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"用户名"}},[a("Input",{attrs:{maxlength:20},model:{value:t.form.realName,callback:function(e){t.$set(t.form,"realName",e)},expression:"form.realName"}})],1)],1),a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{label:"角色"}},[a("Select",{attrs:{filterable:""},model:{value:t.form.roleId,callback:function(e){t.$set(t.form,"roleId",e)},expression:"form.roleId"}},[a("Option",{attrs:{value:""}},[t._v("全部")]),t._l(t.roleList,(function(e){return a("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])}))],2)],1)],1)],1),a("Row",[a("Col",{staticClass:"text-right"},[a("FormItem",[a("Button",{attrs:{type:"primary",icon:"md-search"},on:{click:function(e){return t.getList()}}},[t._v("查询")]),t.AUTH("user_add")?a("Button",{attrs:{type:"primary",icon:"md-add"},on:{click:function(e){return t.handleInfo("auth_user_add")}}},[t._v("新增")]):t._e()],1)],1)],1)],1),a("Table",{ref:"table",attrs:{columns:t.columns,data:t.list,size:"small",border:""},scopedSlots:t._u([{key:"status",fn:function(e){var n=e.row;return[a("Tag",{attrs:{color:t.color[n.status]}},[t._v(t._s(t._f("STATUS")(n.status)))])]}},{key:"default",fn:function(e){var n=e.row;return[a("Button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.handleReset(n.id)}}},[t._v("重置密码")]),a("Button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.handleInfo("auth_user_edit",n.id)}}},[t._v("编辑")]),a("Button",{attrs:{type:"error",size:"small"},on:{click:function(e){return t.handleDelete(n.id)}}},[t._v("删除")])]}}])}),a("Page",{staticClass:"self-page",attrs:{total:t.page.totalCount,current:t.page.pageNumber,"show-total":""},on:{"update:current":function(e){return t.$set(t.page,"pageNumber",e)},"on-change":t.getList}})],1)],1)},o=[],s={name:"auth_user",data:function(){return{form:{realName:"",roleId:""},roleList:[],list:[],page:{pageNumber:1,totalCount:0},columns:[{title:"用户名",key:"realName"},{title:"登录名",key:"loginName"},{title:"角色",key:"roleName"},{title:"所属机构",key:"orgName",minWidth:60},{title:"手机",key:"mobile"},{title:"状态",slot:"status"},{title:"操作",slot:"default",minWidth:60}]}},beforeCreate:function(){this.color={0:"green",1:"red",2:"orange"}},activated:function(){this.$route.params.activated&&this.getList(this.page.pageNumber)},created:function(){this.getList(),this.getRole()},methods:{getList:function(){var t=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.$http.post("/system/user/list",this.form).then((function(e){t.list=e.data.data,t.page=e.data.page})).catch((function(){}))},getRole:function(){var t=this;this.$http.post("/system/role/list").then((function(e){t.roleList=e.data.data})).catch((function(){}))},handleInfo:function(t,e){this.$router.push({name:t,query:{id:e}})},handleReset:function(t){var e=this;this.$Modal.confirm({title:"提示",content:"确认重置密码吗",loading:!0,onOk:function(){e.$http.post("/system/password/reset",{id:t}).then((function(t){e.$Message.success("重置密码成功")})).catch((function(){})).finally((function(){e.$Modal.remove()}))}})},handleDelete:function(t){var e=this;this.$Modal.confirm({title:"提示",content:"确认删除吗",loading:!0,onOk:function(){e.$http.post("/system/user/delete",{id:t}).then((function(t){e.$Message.success("删除成功")})).catch((function(){})).finally((function(){e.$Modal.remove()}))}})}}},r=s,i=a("2877"),l=Object(i["a"])(r,n,o,!1,null,null,null);e["default"]=l.exports}}]);
//# sourceMappingURL=chunk-2d20fb94.885cad3d.js.map